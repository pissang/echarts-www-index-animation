import 'echarts-wordcloud';
import Scene, { GetOption } from '../components/Scene';
import { getContainerFontFamily } from './common/style';

const keywords: Record<string, number> = {
  visualMap: 22199,
  continuous: 10288,
  contoller: 620,
  series: 274470,
  gauge: 12311,
  detail: 1206,
  piecewise: 4885,
  textStyle: 32294,
  markPoint: 18574,
  pie: 38929,
  roseType: 969,
  label: 37517,
  emphasis: 12053,
  yAxis: 57299,
  name: 15418,
  type: 22905,
  gridIndex: 5146,
  normal: 49487,
  itemStyle: 33837,
  min: 4500,
  silent: 5744,
  animation: 4840,
  offsetCenter: 232,
  inverse: 3706,
  borderColor: 4812,
  markLine: 16578,
  line: 76970,
  radiusAxis: 6704,
  radar: 15964,
  data: 60679,
  dataZoom: 24347,
  tooltip: 43420,
  toolbox: 25222,
  geo: 16904,
  parallelAxis: 4029,
  parallel: 5319,
  max: 3393,
  bar: 43066,
  heatmap: 3110,
  map: 20285,
  animationDuration: 3425,
  animationDelay: 2431,
  splitNumber: 5175,
  axisLine: 12738,
  lineStyle: 19601,
  splitLine: 7133,
  axisTick: 8831,
  axisLabel: 17516,
  pointer: 590,
  color: 23500,
  title: 38497,
  formatter: 15214,
  slider: 7236,
  legend: 66514,
  grid: 28516,
  smooth: 1295,
  smoothMonotone: 696,
  sampling: 757,
  feature: 12815,
  saveAsImage: 2616,
  polar: 6279,
  calculable: 879,
  backgroundColor: 9419,
  excludeComponents: 130,
  show: 20620,
  text: 2592,
  icon: 2782,
  dimension: 478,
  inRange: 1060,
  animationEasing: 2983,
  animationDurationUpdate: 2259,
  animationDelayUpdate: 2236,
  animationEasingUpdate: 2213,
  xAxis: 89459,
  angleAxis: 5469,
  showTitle: 484,
  dataView: 2754,
  restore: 932,
  timeline: 10104,
  range: 477,
  value: 5732,
  precision: 878,
  target: 1433,
  zlevel: 5361,
  symbol: 8718,
  interval: 7964,
  symbolSize: 5300,
  showSymbol: 1247,
  inside: 8913,
  xAxisIndex: 3843,
  orient: 4205,
  boundaryGap: 5073,
  nameGap: 4896,
  zoomLock: 571,
  hoverAnimation: 2307,
  legendHoverLink: 3553,
  stack: 2907,
  throttle: 466,
  connectNulls: 897,
  clipOverflow: 826,
  startValue: 551,
  minInterval: 3292,
  opacity: 3097,
  splitArea: 4775,
  filterMode: 635,
  end: 409,
  left: 6475,
  funnel: 2238,
  lines: 6403,
  baseline: 431,
  align: 2608,
  coord: 897,
  nameTextStyle: 7477,
  width: 4338,
  shadowBlur: 4493,
  effect: 929,
  period: 225,
  areaColor: 631,
  borderWidth: 3654,
  nameLocation: 4418,
  position: 11723,
  containLabel: 1701,
  scatter: 10718,
  areaStyle: 5310,
  scale: 3859,
  pieces: 414,
  categories: 1000,
  selectedMode: 3825,
  itemSymbol: 273,
  effectScatter: 7147,
  fontStyle: 3376,
  fontSize: 3386,
  margin: 1034,
  iconStyle: 2257,
  link: 1366,
  axisPointer: 5245,
  showDelay: 896,
  graph: 22194,
  subtext: 1442,
  selected: 2881,
  barCategoryGap: 827,
  barGap: 1094,
  barWidth: 1521,
  coordinateSystem: 3622,
  barBorderRadius: 284,
  z: 4014,
  polarIndex: 1456,
  shadowOffsetX: 3046,
  shadowColor: 3771,
  shadowOffsetY: 2475,
  height: 1988,
  barMinHeight: 575,
  lang: 131,
  symbolRotate: 2752,
  symbolOffset: 2549,
  showAllSymbol: 942,
  transitionDuration: 993,
  bottom: 3724,
  fillerColor: 229,
  nameMap: 1249,
  barMaxWidth: 747,
  radius: 2103,
  center: 2425,
  magicType: 3276,
  labelPrecision: 248,
  option: 654,
  seriesIndex: 935,
  controlPosition: 121,
  itemGap: 3188,
  padding: 3481,
  shadowStyle: 347,
  boxplot: 1394,
  labelFormatter: 264,
  realtime: 631,
  dataBackgroundColor: 239,
  showDetail: 247,
  showDataShadow: 217,
  x: 684,
  valueDim: 499,
  onZero: 931,
  right: 3255,
  clockwise: 1035,
  itemWidth: 1732,
  trigger: 3840,
  axis: 379,
  selectedOffset: 670,
  startAngle: 1293,
  minAngle: 590,
  top: 4637,
  avoidLabelOverlap: 870,
  labelLine: 3785,
  sankey: 2933,
  endAngle: 213,
  start: 779,
  roam: 1738,
  fontWeight: 2828,
  fontFamily: 2490,
  subtextStyle: 2066,
  indicator: 853,
  sublink: 708,
  zoom: 1038,
  subtarget: 659,
  length: 1060,
  itemSize: 505,
  controlStyle: 452,
  yAxisIndex: 2529,
  edgeLabel: 1188,
  radiusAxisIndex: 354,
  scaleLimit: 1313,
  geoIndex: 535,
  regions: 1892,
  itemHeight: 1290,
  nodes: 644,
  candlestick: 3166,
  crossStyle: 466,
  edges: 369,
  links: 3277,
  layout: 846,
  barBorderColor: 721,
  barBorderWidth: 498,
  treemap: 3865,
  y: 367,
  valueIndex: 704,
  showLegendSymbol: 482,
  mapValueCalculation: 492,
  optionToContent: 264,
  handleColor: 187,
  handleSize: 271,
  showContent: 1853,
  angleAxisIndex: 406,
  endValue: 327,
  triggerOn: 1720,
  contentToOption: 169,
  buttonColor: 71,
  rotate: 1144,
  hoverLink: 335,
  outOfRange: 491,
  textareaColor: 58,
  textareaBorderColor: 58,
  textColor: 60,
  buttonTextColor: 66,
  category: 336,
  hideDelay: 786,
  alwaysShowContent: 1267,
  extraCssText: 901,
  effectType: 277,
  force: 1820,
  rippleEffect: 723,
  edgeSymbolSize: 329,
  showEffectOn: 271,
  gravity: 199,
  edgeLength: 193,
  layoutAnimation: 152,
  length2: 169,
  enterable: 957,
  dim: 83,
  readOnly: 143,
  levels: 444,
  textGap: 256,
  pixelRatio: 84,
  nodeScaleRatio: 232,
  draggable: 249,
  brushType: 158,
  radarIndex: 152,
  large: 182,
  edgeSymbol: 675,
  largeThreshold: 132,
  leafDepth: 73,
  childrenVisibleMin: 73,
  minSize: 35,
  maxSize: 35,
  sort: 90,
  funnelAlign: 61,
  source: 336,
  nodeClick: 200,
  curveness: 350,
  areaSelectStyle: 104,
  parallelIndex: 52,
  initLayout: 359,
  trailLength: 116,
  boxWidth: 20,
  back: 53,
  rewind: 110,
  zoomToNodeRatio: 80,
  squareRatio: 60,
  parallelAxisDefault: 358,
  checkpointStyle: 440,
  nodeWidth: 49,
  color0: 62,
  layoutIterations: 56,
  nodeGap: 54,
  repulsion: 276,
  tiled: 105,
  currentIndex: 145,
  axisType: 227,
  loop: 97,
  playInterval: 112,
  borderColor0: 23,
  gap: 43,
  autoPlay: 123,
  showPlayBtn: 25,
  breadcrumb: 119,
  colorMappingBy: 85,
  id: 18,
  blurSize: 85,
  minOpacity: 50,
  maxOpacity: 54,
  prevIcon: 12,
  children: 21,
  shape: 98,
  nextIcon: 12,
  showNextBtn: 17,
  stopIcon: 21,
  visibleMin: 83,
  visualDimension: 97,
  colorSaturation: 56,
  colorAlpha: 66,
  emptyItemWidth: 10,
  inactiveOpacity: 4,
  activeOpacity: 4,
  showPrevBtn: 19,
  playIcon: 26,
  ellipsis: 19,
  gapWidth: 19,
  borderColorSaturation: 10,
  handleIcon: 2,
  handleStyle: 6,
  borderType: 1,
  constantSpeed: 1,
  polyline: 2,
  blendMode: 1,
  dataBackground: 1,
  textAlign: 1,
  textBaseline: 1,
  brush: 3,
};

const data: { name: string; value: number }[] = [];
for (var name in keywords) {
  data.push({
    name: name,
    value: Math.sqrt(keywords[name]),
  });
}

const maskImage = new Image();

const option: GetOption = (chart) => ({
  series: [
    {
      type: 'wordCloud',
      sizeRange: [4, 150],
      rotationRange: [0, 0],
      gridSize: 0,
      shape: 'pentagon',
      maskImage: maskImage,
      drawOutOfBound: false,
      layoutAnimation: true,
      width: Math.min(Math.min(chart.getWidth(), chart.getHeight()) * 1, 1000),
      height: Math.min(
        Math.min(chart.getWidth(), chart.getHeight()) * 0.8,
        800
      ),
      textStyle: {
        fontFamily: getContainerFontFamily(chart),
        color: function () {
          return (
            'rgb(' +
            [
              Math.round(Math.random() * 200) + 50,
              Math.round(Math.random() * 50),
              Math.round(Math.random() * 50) + 50,
            ].join(',') +
            ')'
          );
        },
      },
      emphasis: {
        textStyle: {
          color: 'red',
        },
      },
      data: data.sort(function (a, b) {
        return b.value - a.value;
      }),
    } as any,
  ],
});

maskImage.src =
  'data:image/png;base64,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';

export default new Scene({
  option,
  duration: 3000,
  file: 'wordCloud',
  title: 'Word Cloud Extension',
  dark: false,
});
